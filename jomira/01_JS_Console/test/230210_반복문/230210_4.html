<script>

  /*
      [문제]
          item배열은 상품의 번호이다.
          price배열은 상품의 가격이다.
          stock배열은 상품의 재고 수량이다.
  
          order배열은 오늘 주문이 들어온 상품의 인덱스 번호이다. 
          count배열은 order에서 주문한 상품들의 개수이다.
          오늘 구매한 상품의 총 가격을 구하시오.
          
          단, 구매하고자 하는 수량보다 재고 수량이 부족할 경우, 
          구매할 수 있는 수량만큼만 구매한다.
          (즉, 남아있는 재고수량만큼만 구매한다.)

          또한 구입한 수량만큼 재고 수량(stock배열)과 
          구매한 수량(count배열)도 차감되어야 한다.
      [과정]
          item  = 1001, 1002, 1003, 1004
          stock =    5,    7,    6,    2              // 재고 수량
          count = 3, 2, 2, 1, 3, 4, 3                 // 구매하고 싶은 상품의 수량

          1001상품을 3개 구매하고 싶었는데, 재고가 충분이 있어 3개 구입했다.
          stock = 2,7,6,2
          count = 0,2,2,1,3,4,3

          1002상품을 2개 구매하고 싶었는데, 재고가 충분이 있어 2개 구입했다.
          stock = 2,5,6,2
          count = 0,0,2,1,3,4,3

          1004상품을 2개 구매하고 싶었는데, 재고가 충분이 있어 2개 구입했다.
          stock = 2,5,6,0
          count = 0,0,0,1,3,4,3

          1004상품을 1개 구매하고 싶었는데, 재고수량이 부족해 구입할 수 없었다.
          stock = 2,5,6,0
          count = 0,0,0,1,3,4,3

          1003상품을 3개 구매하고 싶었는데, 재고가 충분이 있어 3개 구입했다.
          stock = 2,5,3,0
          count = 0,0,0,1,0,4,3

          1003상품을 4개 구매하고 싶었는데, 재고가 부족해 3개만 구입했다.
          stock = 2,5,0,0
          count = 0,0,0,1,0,1,3

          1002상품을 3개 구매하고 싶었는데, 재고가 충분이 있어 3개 구입했다.
          stock = 2,2,0,0
          count = 0,0,0,1,0,1,0

          total = 37900        
      [정답]
          stock = 2,2,0,0
          count = 0,0,0,1,0,1,0

          total = 37900   
  */

  let item = [1001, 1002, 1003, 1004];
  let price = [500, 1200, 4300, 2300];
  let stock = [5, 7, 6, 2];

  let order = [0, 1, 3, 3, 2, 2, 1];
  let count = [3, 2, 2, 1, 3, 4, 3];

  let total = 0;

  for (let i = 0; i < order.length; i++) {
    let index = order[i]; //주문상품번호
    //주문수량 = count[i];
    //주문상품 = item[index];
    //주문상품가격 = price[index];
    //주문상품재고 = stock[index];


    if (stock[index] >= count[i]) {
      stock[index] -= count[i]
      total += count[i] * price[index]
      count[i] = 0;
    } else if (stock[index] == 0) {
      //document.write("재고부족 구매불가")
    } else if (stock[index] < count[i]) {
      count[i] -= stock[index]
      total += stock[index] * price[index]
      stock[index] = 0
    }

  }

  document.write(stock + "<br>")
  document.write(count + "<br>")
  document.write(total)


</script>
