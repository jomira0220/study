{"version":3,"sources":["index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["//!현재 타임 노출\r\nfunction setTime(calendarBox: HTMLElement) {\r\n    let nowTimeBox = calendarBox.querySelector(\".nowTime\") as HTMLElement\r\n    nowTimeBox.innerText = new Date().toLocaleTimeString();\r\n} \r\n\r\n//!현재 년,월,일,요일 노출\r\nfunction setDate(calendarBox: HTMLElement | any) {\r\n  let thisYear = new Date().getFullYear();\r\n  let thisMonth = new Date().getMonth();\r\n  let thisDate = new Date().getDate();\r\n  let thisDay = new Date().getDay();\r\n  let dayList = [\"일\", \"월\", \"화\", \"수\", \"목\", \"금\", \"토\"];\r\n  calendarBox.querySelector(\".nowDate\").innerText =\r\n    thisYear +\r\n    `년 ` +\r\n    (thisMonth + 1) +\r\n    `월 ` +\r\n    thisDate +\r\n    `일 ` +\r\n    dayList[thisDay] +\r\n    `요일`;\r\n  calendarBox.querySelector(\"#year input\").value = thisYear;\r\n  calendarBox.querySelector(\"#month input\").value = thisMonth + 1;\r\n}\r\n\r\n//!기본 테이블구조 셋팅\r\nfunction dayTableSet(calendarBox: HTMLElement) {\r\n  let daySection = calendarBox.querySelector(\"#daySection\") as HTMLElement; //현재 월\r\n  let dayList = [\"일\", \"월\", \"화\", \"수\", \"목\", \"금\", \"토\"];\r\n\r\n  let $columnHeaderWarp = document.createElement(\"div\");\r\n  $columnHeaderWarp.id = \"columnHeaderWarp\";\r\n  daySection.append($columnHeaderWarp);\r\n\r\n  dayList.forEach((day) => {\r\n    let $columnHeader = document.createElement(\"div\");\r\n    $columnHeader.setAttribute(\"role\", \"columnHeader\");\r\n    $columnHeaderWarp.append($columnHeader);\r\n    $columnHeader.innerText = day;\r\n  });\r\n\r\n  for (let i = 0; i < 7 * 6; i++) {\r\n    let $dayBox = document.createElement(\"div\");\r\n    $dayBox.classList.add(\"day\");\r\n    $dayBox.innerHTML = `<div class=\"dayNum\"></div>`;\r\n    daySection.append($dayBox);\r\n  }\r\n}\r\n\r\n//!테이블 구조에 데이터 셋팅\r\nfunction dayDataSet(calendarBox: HTMLElement | any) {\r\n  let yearCheck = Number(calendarBox.querySelector(\"#year input\").value);\r\n  let monthCheck = Number(calendarBox.querySelector(\"#month input\").value - 1); //\r\n\r\n  //구하려는 년도와 월의 1일 요일(인덱스) & 말일(일자)\r\n  let nowYear = new Date().getFullYear();\r\n  let nowMonth = new Date().getMonth();\r\n  let nowDate = new Date().getDate();\r\n\r\n  let firstIndex = new Date(yearCheck, monthCheck, 1).getDay();\r\n  let lastDate = new Date(yearCheck, monthCheck + 1, 0).getDate();\r\n\r\n  let daySection = calendarBox.querySelector(\"#daySection\"); //현재 월\r\n\r\n  let holiDay = [\r\n    { dayName: \"새해 첫날\", month: 1, day: 1, Lunar: false },\r\n    { dayName: \"삼일절\", month: 3, day: 1, Lunar: false },\r\n    { dayName: \"어린이날\", month: 5, day: 5, Lunar: false },\r\n    { dayName: \"현충일\", month: 6, day: 6, Lunar: false },\r\n    { dayName: \"광복절\", month: 8, day: 15, Lunar: false },\r\n    { dayName: \"개천절\", month: 10, day: 3, Lunar: false },\r\n    { dayName: \"한글날\", month: 10, day: 9, Lunar: false },\r\n    { dayName: \"성탄절\", month: 12, day: 25, Lunar: false },\r\n    //음력\r\n    { dayName: \"부처님 오신날\", month: 4, day: 8, Lunar: true },\r\n    { dayName: \"추석 연휴\", month: 8, day: 15, Lunar: true },\r\n    { dayName: \"설날 연휴\", month: 1, day: 1, Lunar: true },\r\n  ];\r\n\r\n  //양력 -> 음력 날짜 변환\r\n  for (let h = 0; h < holiDay.length; h++) {\r\n    if (holiDay[h].Lunar == true) {\r\n      let holiDayMonth : string = String(holiDay[h].month);\r\n      let holiDayDay : string = String(holiDay[h].day);\r\n      if (holiDay[h].month < 10) {\r\n        holiDayMonth = \"0\" + holiDayMonth;\r\n      }\r\n      if (holiDay[h].day < 10) {\r\n        holiDayDay = \"0\" + holiDayDay;\r\n      }\r\n\r\n      let lunaDate = yearCheck + holiDayMonth + holiDayDay;\r\n      var lunaMonth = Number(lunaDate.substring(0, 2));\r\n      var lunaDay = Number(lunaDate.substring(2));\r\n      //console.log(lunaMonth, lunaDay)\r\n      holiDay[h].month = lunaMonth;\r\n      holiDay[h].day = lunaDay;\r\n    }\r\n  }\r\n\r\n  let dayNumBox = daySection.querySelectorAll(\".dayNum\");\r\n  let dayBox = daySection.querySelectorAll(\".day\");\r\n\r\n  let dayFirst = 1;\r\n  for (let i = 0; i < 7 * 6; i++) {\r\n    if (i >= firstIndex && dayFirst <= lastDate) {\r\n      //해당월에 있는 날짜인 경우\r\n\r\n      dayBox[i].style.display = \"block\";\r\n      dayBox[i].classList.remove(\"noDay\");\r\n      dayNumBox[i].innerText = dayFirst;\r\n\r\n      //공휴일표시\r\n      for (let h = 0; h < holiDay.length; h++) {\r\n        let $holiDayBox = document.createElement(\"div\");\r\n        $holiDayBox.innerText = holiDay[h].dayName;\r\n        $holiDayBox.classList.add(\"holiDay\");\r\n        \r\n        //달력넘김시 주말,공휴일 표시 리셋용\r\n        if (dayBox[i].querySelector(\".holiDay\") != null) {\r\n          dayBox[i].querySelector(\".holiDay\").remove();\r\n          dayBox[i].querySelector(\".dayNum\").classList.remove(\"on\")\r\n        }\r\n        \r\n        //달력넘김시 설날&추석 연휴 표시 리셋용\r\n        if (dayBox[i+1].querySelector(\".bridgeHoliDay\") != null) {\r\n          dayBox[i+1].querySelector(\".bridgeHoliDay\").previousSibling.classList.remove(\"on\")\r\n          dayBox[i+1].querySelector(\".bridgeHoliDay\").remove();\r\n        }\r\n        \r\n        \r\n        if (holiDay[h].month - 1 == monthCheck && dayFirst == holiDay[h].day) {\r\n          if(holiDay[h].dayName == \"설날 연휴\" || holiDay[h].dayName == \"추석 연휴\"){\r\n            for(let k = -1; k < 2; k++){\r\n              if(k != 0){\r\n                let $bridgeHoliDayBox = document.createElement(\"div\");\r\n                $bridgeHoliDayBox.innerText = holiDay[h].dayName;\r\n                $bridgeHoliDayBox.classList.add(\"bridgeHoliDay\")\r\n                dayBox[i+k].append($bridgeHoliDayBox);\r\n                dayBox[i+k].querySelector(\".bridgeHoliDay\").previousSibling.classList.add(\"on\")\r\n              }\r\n            }\r\n          }\r\n          \r\n          if (dayBox[i].querySelector(\".holiDay\") == null) {\r\n            dayBox[i].append($holiDayBox);\r\n            dayBox[i].querySelector(\".dayNum\").classList.add(\"on\")\r\n            break;\r\n          }\r\n        }\r\n      } //holiDay for close\r\n\r\n      //오늘 날짜 표시\r\n      if (\r\n        dayFirst == nowDate &&\r\n        monthCheck == nowMonth &&\r\n        yearCheck == nowYear\r\n      ) {\r\n        dayBox[i].classList.add(\"toDay\");\r\n      } else {\r\n        dayBox[i].classList.remove(\"toDay\");\r\n      }\r\n      \r\n      //주말 표시\r\n      if (i % 7 == 0) {\r\n        dayBox[i].querySelectorAll(\".dayNum\").forEach((el) => {\r\n          el.classList.add(\"sunDay\");\r\n        });\r\n        if(i > 0){\r\n          dayBox[i - 1].querySelectorAll(\".dayNum\").forEach((el) => {\r\n            el.classList.add(\"saturDay\");\r\n          });\r\n        }\r\n      }\r\n      \r\n\r\n      dayFirst++;\r\n    } else {\r\n      //해당 월에 없는 날짜인경우\r\n      dayBox[i].classList.add(\"noDay\");\r\n      dayNumBox[i].innerText = \"\";\r\n      if (dayBox[i].children[1] != null) {\r\n        dayBox[i].children[1].remove();\r\n      }\r\n    }\r\n\r\n    //박스 길이 조절용 35번째 박스에 내용이 있는 경우와\r\n    //없는 경우에 따라서 박스 길이 자르기\r\n    if (i == 35 && dayBox[i].classList.contains(\"noDay\")) {\r\n      removeBox(true);\r\n    } else if (i == 35 && dayBox[i].classList.contains(\"noDay\") != true) {\r\n      removeBox(false);\r\n    }\r\n\r\n    function removeBox(action) {\r\n      for (let j = 35; j < 42; j++) {\r\n        if (action) {\r\n          dayBox[j].classList.add(\"cut\");\r\n        } else {\r\n          dayBox[j].classList.remove(\"cut\");\r\n        }\r\n      }\r\n    }\r\n  } //42열 박스 만들기용 for close\r\n}\r\n\r\n\r\n//!달력 데이터 변경\r\nfunction changeEvent(calendarBox) {\r\n  let controlBox = calendarBox.querySelector(\"#controlBox\");\r\n  let plusBtn = controlBox.querySelector(\".plusBtn\");\r\n  let minusBtn = controlBox.querySelector(\".minusBtn\");\r\n\r\n  let monthInput = controlBox.querySelector(\"#month input\");\r\n  let month = Number(monthInput.value);\r\n\r\n  let yearInput = controlBox.querySelector(\"#year input\");\r\n  let year = Number(yearInput.value);\r\n\r\n  monthInput.addEventListener(\"change\", (event) => {\r\n    month = Number(monthInput.value);\r\n    if (1 > month || month > 12) {\r\n      alert(\"월 범위는 1 ~ 12 까지입니다.\");\r\n      monthInput.value = new Date().getMonth() + 1;\r\n      month = Number(monthInput.value);\r\n    }\r\n    dayDataSet(calendarBox);\r\n  });\r\n  yearInput.addEventListener(\"change\", (event) => {\r\n    year = Number(yearInput.value);\r\n    if (1841 >= year || year >= 2043) {\r\n      alert(\"연도 범위는 1841 ~ 2043 까지입니다.\");\r\n      yearInput.value = new Date().getFullYear();\r\n      year = Number(monthInput.value);\r\n    }\r\n    dayDataSet(calendarBox);\r\n  });\r\n\r\n  //pageUp\r\n  plusBtn.addEventListener(\"click\", () => {\r\n    if (1 < month && month <= 12) {\r\n      month -= 1;\r\n    } else {\r\n      yearInput.value = Number(yearInput.value) - 1\r\n      year -= 1\r\n      month = 12\r\n      /*alert(\"월 범위는 1 ~ 12 까지입니다.\");*/\r\n    }\r\n    monthInput.value = month;\r\n    dayDataSet(calendarBox);\r\n  });\r\n  //pageDown\r\n  minusBtn.addEventListener(\"click\", () => {\r\n    if (1 <= month && month < 12) {\r\n      month += 1;\r\n    } else {\r\n      yearInput.value = Number(yearInput.value) + 1\r\n      year += 1\r\n      month = 1\r\n    }\r\n    monthInput.value = month;\r\n    dayDataSet(calendarBox);\r\n  });\r\n}\r\n\r\n/*\r\n//!달력 드래그 이벤트\r\nfunction dragChange(calendarBox){\r\n  let dragBottomEl = calendarBox.querySelectorAll(\".day\")\r\n  dragBottomEl.forEach((el,index)=>{\r\n    if(index > 18){\r\n      el.addEventListener(\"dragenter\", (e) => {\r\n        \r\n      });\r\n    }\r\n  })\r\n}\r\n*/\r\n\r\n\r\n//!캘린더 기본 구조 셋팅 및 함수호출\r\nfunction calendar(elId:string) {\r\n  let date = new Date();\r\n  let calendarBox : HTMLElement = document.querySelector(elId)!;\r\n\r\n  if (calendarBox) {\r\n    calendarBox.innerHTML = `\r\n        <div id=\"header\">\r\n          <h1><img src=\"myCalendarLogo.png\"></h1>\r\n          <div id=\"controlBox\">\r\n              <div id=\"yearControl\">\r\n                <div id=\"year\"><input type=\"number\" value=\"\" min=\"1\" max=\"2043\"><span>년</span></div>\r\n              </div>\r\n              <div id=\"monthControl\">\r\n                <span id=\"month\"><input type=\"number\" value=\"\" min=\"1\" max=\"12\">월</span>\r\n              </div>\r\n              <div id=\"buttonWarp\">\r\n                  <button class=\"plusBtn\" type=\"button\"><i class=\"fas fa-angle-up\"></i></button>\r\n                  <button class=\"minusBtn\" type=\"button\"><i class=\"fas fa-angle-down\"></i></button>\r\n              </div>\r\n          </div>\r\n          <div id=\"nowWarp\">\r\n            <div class=\"nowDate\"></div>\r\n            <div class=\"nowTime\"></div>\r\n          </div>\r\n        </div>\r\n        <div id=\"daySection\"></div>\r\n      `;\r\n  }\r\n  setInterval(() => {\r\n    setTime(calendarBox);\r\n  }, 1000);\r\n  setDate(calendarBox);\r\n  dayTableSet(calendarBox);\r\n  dayDataSet(calendarBox);\r\n  //dragChange(calendarBox)\r\n  changeEvent(calendarBox);\r\n}\r\n\r\ncalendar(\"#calendarBox\");\r\n\r\n\r\n"]}