<script>
	
  /*
    [문제]
      아래 데이터는 각각의 회원이 물건을 구입가격들을 기록한 내용이다.
      회원별 구입 총합을 테이블로 만들려고한다.
      데이터는 아래와 같이 나올 수 있도록 result에 저장 후 출력하시오.
      단, \n 은 줄바꿈이다. 구분자를 \n으로 넣으면 잘 잘린다.
    [정답]
      10001,김철수,2670
      10002,이영희,1950
      10003,유재석,4080
      10004,박명수,7130
  */

  let data ="";
  data += "10001/김철수/600\n";
  data += "10002/이영희/800\n";
  data += "10001/김철수/1400\n";
  data += "10003/유재석/780\n";
  data += "10002/이영희/950\n";
  data += "10004/박명수/330\n";
  data += "10001/김철수/670\n";
  data += "10003/유재석/3300\n";
  data += "10002/이영희/200\n";
  data += "10004/박명수/6800\n";
  data = data.substring(0 , data.length-1); // 마지막 글삭제 
  document.write(data + "<br><br>");

  
  function tokenData(data){
    let splitArr = data.split("\n")
    let dataList = []
    splitArr.forEach((el,index) => {
      dataList.push(splitArr[index].split("/"))
    })
    return dataList
  }

  function buyTotal(dataList) {
    let setTotal = []
    for (let i = 0; i < dataList.length; i++) {
      let userTotal = 0
      let userName = dataList[i][1]
      for (let j = 0; j < dataList.length; j++) {
        if (userName == dataList[j][1]) {
          userTotal += Number(dataList[j][2])
        }
      }
      setTotal.push([dataList[i][0], userName, userTotal])
    }
  
    let resultList = []
    for (let i = 0; i < setTotal.length; i++) {
      let check = false;
      for (let j = 0; j < i; j++) {
        if (setTotal[i][1] == setTotal[j][1]) {
          check = true
        }
      }
      if (check == false) {
        resultList.push(setTotal[i])
      }
    }
    
    return resultList
  }
  
  function solution(data) {
    let dataList = tokenData(data)
    let resultList = buyTotal(dataList) 
    return resultList
  }
 
  let resultList = []
  resultList = solution(data)

  for(let i=0; i<resultList.length; i++) {
      document.write(resultList[i] + "<br>");
  }

</script>